---
- name: Reduce_on_networks filter test1
  ansible.builtin.set_fact:
    result1: "{{ ['192.168.0.34', '10.3.0.3', '192.168.2.34'] | ansible.utils.reduce_on_network(['192.168.0.0/24', '127.0.0.0/8', '192.128.0.0/9']) }}"

- name: Assert result for reduce_on_network.
  ansible.builtin.assert:
    that: "{{ result1 == { '192.168.0.34': ['192.168.0.0/24', '192.128.0.0/9'], '192.168.2.34': ['192.128.0.0/9'], } }}

